2024-01-31

게시글 수정 기능을 클릭했을 때 작동에 대한 요구사항 (GET)
- <form> 태그로 내용을 확인할 수 있어야 한다.
- 내용은 DB 에서 DTO의 형태로 불러와서 input 태그에 value로 채워져야 한다.
- input:checkbox이면 checked
- textarea이면 시작태그, 마무리태그 사이에 글자
- 가급적, 조회화면과 비슷한 화면배치를 가지는 것이 좋다.

게시글 수정화면에서 submit을 수행했을 때 요구사항 (POST)
- 사용자가 새로 입력한 글을 DB에 반영해야 한다.
- update board3 set ... where idx = #{idx}
- int로 결과를 반환받는다.
- 결과에 따라서 성공 실패를 판별할 수 있다.
- 정상적으로 수정이 완료되었다면, 해당 게시글 조회 페이지로 이동 (리다이렉트)


컨트롤러는 view에서 넘어오는 데이터를 처리하니까
웹에서는 request라고 한댜
요청안에 담겨있는 입력객체 dto 이런 거를 서비스로 넘겨준다.
요청 그 자체를 , 세션 그 자체를 넘겨주는 건 아니다


처리를 어떻게 상세하게 할 거냐는 서비스에서

DAO가 하는 역할
: 

인터셉터

프로젝트 내부 하위 각 주소에 대해 
요청을 가로채서 특정 작업을 수행하고
이후 예정대로 진행하거나, 다른 응답을 보낼 수 있는 스프링 객체

주소				기능			로그인 필수		관리자 로그인
------------------------------------------------------------------------------------

/				대문페이지			

/board/list			게시글 목록
/board/write			게시글 작성			✔
/board/modify/{idx}		게시글 수정			✔
/board/delete/{idx}		게시글 삭제			✔
/board/view/{idx}		게시글 조회

/member/join			회원가입
/member/list			회원 목록					✔
/member/login			로그인			
/member/logout			로그아웃			✔
/member/resetPass		패스워드 초기화		
/member/delete/{idx}		회원 삭제					✔
/member/modify/{idx}		회원 수정					✔
/member/{idx}			회원 조회					✔


---------------------------------------------------------------------
✔ 표시가 되어있는 컨트롤러 함수에 다음과 같은 코드를 일괄 적용 가능

if(session.getAttribute("login") == null) {
	return "redirect:/member/login";
}

그러나, 컨트롤러 함수마다 반환형이 서로 다르고
HttpSession을 매개변수로 추가해줘야 하기 때문에 번거롭다
메뉴의 개수가 늘어날 수록 작업은 점점 더 번거로워진다.

요청을 가로채는 놈이라서 인터셉터라고 부른다 !


만약에 회원들만 들어갈 수 있는 페이지가 있으면
하나하나 if걸어서 하면 너무 번거로우니까
인터셉트를 걸어서 그냥 

preHandle에서 Handle은 컨트롤러에서 함수를 말한다.
preHandle은 사전점검 같은 거 ~.~

핸들 이후에 실행되는 인터셉트는 postHandle  !
다 끝나고 하는 인터셉트는 afterHandle !

%3A ":"
"2F "/"

https://mail.naver.com/

--------------------------------------------------------------------------
각 메뉴에 대해 관리자로 로그인되어 있는지
판별하는 인터셉터를 AdminInterceptor로 작성하세요.

관리자 로그인 상태이면 계속 진행하고
만약, 로그인이 안 되어 있거나 관리자가 아니라면
alert.jsp로 넘겨서 경고창을 띄워주고
대문페이지로 리다이렉트하세요.
